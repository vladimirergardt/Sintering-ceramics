webpackJsonp([1],{"1FGi":function(t,e){},N5vM:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s=a("NYxO"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view",{attrs:{name:"menu"}}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},i,!1,function(t){a("wTWJ")},null,null).exports,u=a("/ocq"),o=a("Dd8w"),c=a.n(o),l={name:"auth",data:function(){return{authForm:{login:"",password:""},errors:{login:[{required:!0,message:"Введите логин",trigger:"blur"}],password:[{required:!0,message:"Введите пароль",trigger:"change"}]}}},computed:c()({},Object(s.c)(["getAuth"])),methods:c()({},Object(s.b)(["setAuth"]),{auth:function(){var t=this,e={login:this.authForm.login,password:this.authForm.password};this.setAuth(e).then(function(){t.getAuth.status?t.$router.push({path:"/"}):t.$message.error("Неверный логин или пароль")&&t.resetForm("authForm")})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.auth()})},resetForm:function(t){this.$refs[t].resetFields()},back:function(){this.status="",this.login="",this.password=""}}),mounted:function(){}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",height:"100vh"}},[a("el-card",{staticClass:"box-card auth"},[a("h3",{staticClass:"s-auth_h"},[t._v("Вход в систему")]),t._v(" "),a("el-form",{ref:"authForm",staticClass:"auth-form",attrs:{model:t.authForm,rules:t.errors,"label-width":"120px"}},[a("el-form-item",{staticClass:"s-input",attrs:{prop:"login"}},[a("el-input",{attrs:{placeholder:"Логин"},model:{value:t.authForm.login,callback:function(e){t.$set(t.authForm,"login",e)},expression:"authForm.login"}})],1),t._v(" "),a("el-form-item",{staticClass:"s-input",attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"Пароль"},model:{value:t.authForm.password,callback:function(e){t.$set(t.authForm,"password",e)},expression:"authForm.password"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{type:"primary"},on:{click:function(e){t.submitForm("authForm")}}},[t._v("Войти")])],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(l,f,!1,function(t){a("1FGi")},null,null).exports,m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("el-row",{staticClass:"container",attrs:{type:"flex",align:"flex-end"}},[a("el-card",{staticClass:"box-card"},[a("h2",[t._v("Справка API")]),t._v(" "),a("div",{staticClass:"method"},[a("span",{staticClass:"method-path"},[t._v("/addUser")]),t._v(" "),a("span",{staticClass:"method-info"},[t._v(" - добавление пользователя в базу")]),t._v(" "),a("h5",{staticClass:"params-h"},[t._v("Параметры (POST):")]),t._v(" "),a("div",{staticClass:"method-params"},[t._v("\n          {"),a("br"),t._v('\n           "login": "login",'),a("br"),t._v('\n           "password": "password",'),a("br"),t._v('\n           "access": "access",'),a("br"),t._v("\n          }\n        ")])]),t._v(" "),a("div",{staticClass:"method"},[a("span",{staticClass:"method-path"},[t._v("/getUsers")]),t._v(" "),a("span",{staticClass:"method-info"},[t._v(" - получить список всех пользователей")]),t._v(" "),a("h5",{staticClass:"params-h"},[t._v("Параметры (GET):")]),t._v(" "),a("div",{staticClass:"method-params"},[t._v("\n          нет\n        ")])]),t._v(" "),a("div",{staticClass:"method"},[a("span",{staticClass:"method-path"},[t._v("/auth")]),t._v(" "),a("span",{staticClass:"method-info"},[t._v(" - аутентефикация")]),t._v(" "),a("h5",{staticClass:"params-h"},[t._v("Параметры (POST):")]),t._v(" "),a("div",{staticClass:"method-params"},[t._v("\n          {"),a("br"),t._v('\n           "login": "login",'),a("br"),t._v('\n           "password": "password",'),a("br"),t._v("\n          }\n        ")])])])],1)],1)},staticRenderFns:[]};var h=a("VU/8")({name:"helpApi",data:function(){return{}}},m,!1,function(t){a("g3vv")},null,null).exports,p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"s-section"},[e("el-card",{staticClass:"box-card s-content"},[e("h3",{staticClass:"s-header"},[this._v("Calculation")])])],1)},staticRenderFns:[]};var _=a("VU/8")({name:"calculation",data:function(){return{}}},p,!1,function(t){a("cRjz")},null,null).exports,v={render:function(){var t=this.$createElement;return(this._self._c||t)("section",[this._v("\n  CalculationResult\n")])},staticRenderFns:[]};var g=a("VU/8")({name:"calculationResult"},v,!1,function(t){a("wMBH")},null,null).exports,y={name:"materialsList",data:function(){return{}},computed:c()({},Object(s.c)(["materialsList","getAuth"])),methods:c()({},Object(s.b)(["getMaterialsList","deleteMaterial"]),{deleteItem:function(t){var e=this;this.deleteMaterial(t._id).then(function(){e.getMaterialsList()})},addItem:function(){this.$router.push({name:"materialEdit",params:{id:"new"}})},editItem:function(t){this.$router.push({name:"materialEdit",params:{id:t._id}})}}),mounted:function(){this.getMaterialsList()}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"s-section"},[a("el-card",{staticClass:"box-card s-content"},[a("h3",{staticClass:"s-header"},[t._v("Список материалов")]),t._v(" "),"admin"===t.getAuth.access?a("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline"},on:{click:function(e){t.addItem()}}},[t._v("Добавить")]):t._e(),t._v(" "),a("ul",{staticClass:"s-list"},t._l(t.materialsList,function(e){return a("li",{key:e._id,staticClass:"s-list_item",on:{click:function(a){t.editItem(e)}}},[a("span",{staticClass:"s-list_item_name"},[t._v(t._s(e.name))]),t._v(" "),a("span",{staticClass:"s-list_item_options"},["admin"===t.getAuth.access?a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",circle:""},on:{click:function(a){a.stopPropagation(),t.deleteItem(e)}}}):t._e()],1)])}))],1)],1)},staticRenderFns:[]};var b=a("VU/8")(y,k,!1,function(t){a("kQos")},null,null).exports;function M(t){return{name:t.find(function(t){return"name"===t.key}).value,start_size_grain:t.find(function(t){return"start_size_grain"===t.key}).value,layer_thickness:t.find(function(t){return"layer_thickness"===t.key}).value,start_porosity:t.find(function(t){return"start_porosity"===t.key}).value,surface_energy:t.find(function(t){return"surface_energy"===t.key}).value,density:t.find(function(t){return"density"===t.key}).value,viscosity:t.find(function(t){return"viscosity"===t.key}).value,weight:t.find(function(t){return"weight"===t.key}).value,pf_s_diff:t.find(function(t){return"pf_s_diff"===t.key}).value,ea_s_diff:t.find(function(t){return"ea_s_diff"===t.key}).value,pf_c_diff:t.find(function(t){return"pf_c_diff"===t.key}).value,ea_c_diff:t.find(function(t){return"ea_c_diff"===t.key}).value}}var C={name:"materialEdit",data:function(){return{MainForm:{materialsForm:{properties:[{key:"name",value:"",label:"Название"},{key:"start_size_grain",value:"",label:"Начальный средний размер зерна"},{key:"layer_thickness",value:"",label:"Толщина поверхностного слоя"},{key:"start_porosity",value:"",label:"Начальная пористость"},{key:"surface_energy",value:"",label:"Удельная поверхностная энергия"},{key:"density",value:"",label:"Плотность материала"},{key:"viscosity",value:"",label:"Вязкость материала"},{key:"weight",value:"",label:"Масса материала"},{key:"pf_s_diff",value:"",label:"Предэкспоненциальный множитель (поверхностная самодиффузия)"},{key:"ea_s_diff",value:"",label:"Энергия активации (поверхностная самодиффузия)"},{key:"pf_c_diff",value:"",label:"Предэкспоненциальный множитель (зернографическая самодиффузия)"},{key:"ea_c_diff",value:"",label:"Энергия активации (зернографическая самодиффузия)"}]}},rules:{value:[{required:!0,message:" "}]}}},computed:c()({},Object(s.c)(["getAuth","currentMaterial"]),{checkAction:function(){return"new"===this.$router.history.current.params.id?"Добавление материала":"Редактирование материала"}}),methods:c()({},Object(s.b)(["addMaterial","getMaterial","updateMaterial"]),{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var a={form:e.MainForm.materialsForm.properties,id:e.$router.history.current.params.id};"Добавление материала"===e.checkAction?e.addMaterial(e.MainForm.materialsForm.properties).then(function(){e.$router.push({name:"materialsList"})}):e.updateMaterial(a).then(function(){e.$router.push({name:"materialsList"})})})},getMaterialProperties:function(){var t=this,e=this.$router.history.current.params.id;"new"!==e&&this.getMaterial(e).then(function(){var e,a;e=t.MainForm.materialsForm.properties,a=t.currentMaterial,e.find(function(t){return"name"===t.key}).value=a.name,e.find(function(t){return"start_size_grain"===t.key}).value=a.start_size_grain,e.find(function(t){return"layer_thickness"===t.key}).value=a.layer_thickness,e.find(function(t){return"start_porosity"===t.key}).value=a.start_porosity,e.find(function(t){return"surface_energy"===t.key}).value=a.surface_energy,e.find(function(t){return"density"===t.key}).value=a.density,e.find(function(t){return"viscosity"===t.key}).value=a.viscosity,e.find(function(t){return"weight"===t.key}).value=a.weight,e.find(function(t){return"pf_s_diff"===t.key}).value=a.pf_s_diff,e.find(function(t){return"ea_s_diff"===t.key}).value=a.ea_s_diff,e.find(function(t){return"pf_c_diff"===t.key}).value=a.pf_c_diff,e.find(function(t){return"ea_c_diff"===t.key}).value=a.ea_c_diff})}}),mounted:function(){this.getMaterialProperties()}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"s-section"},[a("el-card",{staticClass:"box-card s-content"},[a("h3",{staticClass:"s-header"},[t._v(" "+t._s(t.checkAction)+" ")]),t._v(" "),a("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:function(e){t.$router.push({name:"materialsList"})}}},[t._v("Вернуться")]),t._v(" "),a("el-form",{ref:"MainForm",staticClass:"materials-form",attrs:{"label-position":"top",model:t.MainForm.materialsForm,"label-width":"120px"}},[t._l(t.MainForm.materialsForm.properties,function(e,n){return a("el-form-item",{key:e.key,attrs:{label:e.label,prop:"properties."+n+".value",rules:t.rules.value}},[a("el-input",{style:"name"===e.key?"max-width: 300px":"max-width: 200px",model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"domain.value"}})],1)}),t._v(" "),a("el-form-item",{staticStyle:{"margin-top":"30px"}},["admin"===t.getAuth.access?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("MainForm")}}},[t._v("Сохранить")]):t._e()],1)],2)],1)],1)},staticRenderFns:[]};var F=a("VU/8")(C,w,!1,function(t){a("N5vM")},null,null).exports,A={name:"top-menu",data:function(){return{menuItems:[{name:"Рассчет",pathName:"calculation",path:""},{name:"Материалы",pathName:"materialsList",path:"materials-list"}],statusMenu:""}},computed:c()({},Object(s.c)(["getAuth"]),{checkStatusMenu:function(){return this.statusMenu=window.location.hash.slice(2),window.location.hash.slice(2)},checkUser:function(){return"stud"===this.getAuth.access?"студент":"администратор"}}),methods:c()({},Object(s.b)(["clearAuth"]),{selectItem:function(t){this.statusMenu=t.path,this.$router.push({name:t.pathName})},logout:function(){this.clearAuth(),!this.getAuth.status&&this.$router.push({name:"auth"})}}),mounted:function(){}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"s-menu"},[a("el-row",{staticClass:"container",staticStyle:{"justify-content":"space-between"},attrs:{type:"flex"}},[a("div",{staticClass:"s-menu_links"},t._l(t.menuItems,function(e){return a("div",{staticClass:"s-menu_item",class:{active:e.path===t.statusMenu},on:{click:function(a){t.selectItem(e)}},model:{value:t.checkStatusMenu,callback:function(e){t.checkStatusMenu=e},expression:"checkStatusMenu"}},[t._v(t._s(e.name)+"\n      ")])})),t._v(" "),a("div",{staticClass:"s-menu_options"},[a("div",{staticClass:"s-menu_active"},[t._v("В сети: "+t._s(t.checkUser))]),t._v(" "),a("div",{staticClass:"s-menu_option",on:{click:t.logout}},[t._v("Выйти")])])])],1)},staticRenderFns:[]};var E=a("VU/8")(A,S,!1,function(t){a("bUW1")},null,null).exports;n.default.use(u.a);var x=new u.a({mode:"hash",routes:[{path:"/auth",name:"auth",component:d},{path:"/",name:"calculation",components:{default:_,menu:E}},{path:"/calculation-result",name:"calculationResult",components:{default:g,menu:E}},{path:"/materials-list",name:"materialsList",components:{default:b,menu:E}},{path:"/material-edit/:id",name:"materialEdit",components:{default:F,menu:E}},{path:"/api",name:"helpApi",component:h}]});x.beforeEach(function(t,e,a){"auth"===t.name&&a(),"false"!==localStorage.authStatus&&localStorage.authStatus?a():a({path:"/auth"})});var R,L,$=x,T=a("bOdI"),U=a.n(T),I=a("mtWM"),j=a.n(I),O=a("2aIq"),N=a.n(O),z={state:{materialsList:[],currentMaterial:{}},getters:{materialsList:function(t){return t.materialsList},currentMaterial:function(t){return t.currentMaterial}},mutations:(R={},U()(R,"SET_MATERIALS_LIST",function(t,e){t.materialsList=e}),U()(R,"SET_CURRENT_MATERIAL",function(t,e){t.currentMaterial=e}),R),actions:{getMaterialsList:function(t){var e=t.commit;return j.a.post("/getMaterials").then(function(t){var a=t.data.data;e("SET_MATERIALS_LIST",a)}).catch(function(t){console.log(t)})},deleteMaterial:function(t,e){N()(t);var a={id:e};return j.a.post("/deleteMaterial",a).then(function(t){}).catch(function(t){console.log(t)})},addMaterial:function(t,e){N()(t);var a=M(e);return j.a.post("/addMaterial",a).then(function(t){}).catch(function(t){console.log(t)})},getMaterial:function(t,e){var a=t.commit,n={id:e};return j.a.post("/getMaterial",n).then(function(t){var e=t.data.data;a("SET_CURRENT_MATERIAL",e)}).catch(function(t){console.log(t)})},updateMaterial:function(t,e){N()(t);var a=function(t){var e=M(t.form);return e.id=t.id,e}(e);return j.a.post("/updateMaterial",a).then(function(t){}).catch(function(t){console.log(t)})}}};n.default.use(s.a);var H=new s.a.Store({modules:{materials:z},state:{auth:{status:localStorage.authStatus,access:localStorage.authAccess},materialsList:[]},getters:{getAuth:function(t){return t.auth}},mutations:(L={},U()(L,"SET_AUTH_USER",function(t,e){t.auth.status=!0,t.auth.access=e}),U()(L,"CLEAR_AUTH_USER",function(t){t.auth.status=!1,t.auth.access="access denied"}),L),actions:{setAuth:function(t,e){var a=t.commit;return j.a.post("/auth",e).then(function(t){t.data.status&&(localStorage.authAccess=t.data.access,localStorage.authStatus="true",a("SET_AUTH_USER",t.data.access))}).catch(function(t){console.log(t)})},clearAuth:function(t){var e=t.commit;localStorage.authStatus=!1,localStorage.authAccess="access denied",e("CLEAR_AUTH_USER")}}}),V=a("zL8q"),P=a.n(V);a("tvR6");n.default.use(s.a),n.default.use(P.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:$,store:H,components:{App:r},template:"<App/>"})},bUW1:function(t,e){},cRjz:function(t,e){},g3vv:function(t,e){},kQos:function(t,e){},tvR6:function(t,e){},wMBH:function(t,e){},wTWJ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5c4ae02a7fbe5ed64720.js.map