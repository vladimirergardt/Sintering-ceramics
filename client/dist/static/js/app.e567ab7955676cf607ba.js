webpackJsonp([1],{"2POP":function(t,e){},"36on":function(t,e){},"7qUQ":function(t,e){},GZeG:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n=a("NYxO"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view",{attrs:{name:"menu"}}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},i,!1,function(t){a("2POP")},null,null).exports,o=a("/ocq"),u=a("mtWM"),l=a.n(u),c={name:"auth",data:function(){return{authForm:{login:"",password:""},errors:{login:[{required:!0,message:"Введите логин",trigger:"blur"}],password:[{required:!0,message:"Введите пароль",trigger:"change"}]}}},methods:{auth:function(){var t=this,e={login:this.authForm.login,password:this.authForm.password};return l.a.post("/auth",e).then(function(e){e.data.status?(localStorage.authAccess="access true",localStorage.authStatus="true",t.$router.push({path:"/"})):(t.$message.error("Неверный логин или пароль"),t.resetForm("authForm"))}).catch(function(t){console.log(t)})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.auth()})},resetForm:function(t){this.$refs[t].resetFields()},back:function(){this.status="",this.login="",this.password=""}},mounted:function(){}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",height:"100vh"}},[a("el-card",{staticClass:"box-card"},[a("h3",{staticClass:"s-auth_h"},[t._v("Вход в систему")]),t._v(" "),a("el-form",{ref:"authForm",staticClass:"auth-form",attrs:{model:t.authForm,rules:t.errors,"label-width":"120px"}},[a("el-form-item",{staticClass:"s-input",attrs:{prop:"login"}},[a("el-input",{attrs:{placeholder:"Логин"},model:{value:t.authForm.login,callback:function(e){t.$set(t.authForm,"login",e)},expression:"authForm.login"}})],1),t._v(" "),a("el-form-item",{staticClass:"s-input",attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"Пароль"},model:{value:t.authForm.password,callback:function(e){t.$set(t.authForm,"password",e)},expression:"authForm.password"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{type:"primary"},on:{click:function(e){t.submitForm("authForm")}}},[t._v("Войти")])],1)],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(c,m,!1,function(t){a("Z642")},null,null).exports,d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("el-row",{staticClass:"container",attrs:{type:"flex",align:"flex-end"}},[a("el-card",{staticClass:"box-card"},[a("h2",[t._v("Справка API")]),t._v(" "),a("div",{staticClass:"method"},[a("span",{staticClass:"method-path"},[t._v("/addUser")]),t._v(" "),a("span",{staticClass:"method-info"},[t._v(" - добавление пользователя в базу")]),t._v(" "),a("h5",{staticClass:"params-h"},[t._v("Параметры (POST):")]),t._v(" "),a("div",{staticClass:"method-params"},[t._v("\n          {"),a("br"),t._v('\n           "login": "login",'),a("br"),t._v('\n           "password": "password",'),a("br"),t._v('\n           "access": "access",'),a("br"),t._v("\n          }\n        ")])]),t._v(" "),a("div",{staticClass:"method"},[a("span",{staticClass:"method-path"},[t._v("/getUsers")]),t._v(" "),a("span",{staticClass:"method-info"},[t._v(" - получить список всех пользователей")]),t._v(" "),a("h5",{staticClass:"params-h"},[t._v("Параметры (GET):")]),t._v(" "),a("div",{staticClass:"method-params"},[t._v("\n          нет\n        ")])]),t._v(" "),a("div",{staticClass:"method"},[a("span",{staticClass:"method-path"},[t._v("/auth")]),t._v(" "),a("span",{staticClass:"method-info"},[t._v(" - аутентефикация")]),t._v(" "),a("h5",{staticClass:"params-h"},[t._v("Параметры (POST):")]),t._v(" "),a("div",{staticClass:"method-params"},[t._v("\n          {"),a("br"),t._v('\n           "login": "login",'),a("br"),t._v('\n           "password": "password",'),a("br"),t._v("\n          }\n        ")])])])],1)],1)},staticRenderFns:[]};var p=a("VU/8")({name:"helpApi",data:function(){return{}}},d,!1,function(t){a("GZeG")},null,null).exports,v={render:function(){var t=this.$createElement;return(this._self._c||t)("section",[this._v("\n  Calculation\n")])},staticRenderFns:[]};var f=a("VU/8")({name:"calculation",data:function(){return{}}},v,!1,function(t){a("dbKy")},null,null).exports,_={render:function(){var t=this.$createElement;return(this._self._c||t)("section",[this._v("\n  CalculationResult\n")])},staticRenderFns:[]};var g=a("VU/8")({name:"calculationResult"},_,!1,function(t){a("SuF5")},null,null).exports,C={render:function(){var t=this.$createElement;return(this._self._c||t)("section",[this._v("\n  MaterialsList\n")])},staticRenderFns:[]};var w=a("VU/8")({name:"materialsList"},C,!1,function(t){a("36on")},null,null).exports,F={render:function(){var t=this.$createElement;return(this._self._c||t)("section",[this._v("\n  MaterialEdit\n")])},staticRenderFns:[]};var b=a("VU/8")({name:"materialEdit"},F,!1,function(t){a("VamR")},null,null).exports,x={name:"top-menu",data:function(){return{menuItems:[{name:"Рассчет",pathName:"calculation",path:""},{name:"Материалы",pathName:"materialsList",path:"materials-list"}],statusMenu:""}},computed:{checkStatusMenu:function(){return this.statusMenu=window.location.hash.slice(2),window.location.hash.slice(2)}},methods:{selectItem:function(t){this.statusMenu=t.path,this.$router.push({name:t.pathName})},logout:function(){localStorage.authStatus=!1,localStorage.authAccess="access denied",this.$router.push({name:"auth"})}},mounted:function(){console.log(this.$store.state)}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"s-menu"},[a("el-row",{staticClass:"container",staticStyle:{"justify-content":"space-between"},attrs:{type:"flex"}},[a("div",{staticClass:"s-menu_links"},t._l(t.menuItems,function(e){return a("div",{staticClass:"s-menu_item",class:{active:e.path===t.statusMenu},on:{click:function(a){t.selectItem(e)}},model:{value:t.checkStatusMenu,callback:function(e){t.checkStatusMenu=e},expression:"checkStatusMenu"}},[t._v(t._s(e.name)+"\n      ")])})),t._v(" "),a("div",{staticClass:"s-menu_options"},[a("div",{staticClass:"s-menu_option"},[t._v("В сети")]),t._v(" "),a("div",{staticClass:"s-menu_option",on:{click:t.logout}},[t._v("Выйти")])])])],1)},staticRenderFns:[]};var $=a("VU/8")(x,S,!1,function(t){a("7qUQ")},null,null).exports;s.default.use(o.a);var R=new o.a({mode:"hash",routes:[{path:"/auth",name:"auth",component:h},{path:"/",name:"calculation",components:{default:f,menu:$}},{path:"/calculation-result",name:"calculationResult",components:{default:g,menu:$}},{path:"/materials-list",name:"materialsList",components:{default:w,menu:$}},{path:"/material-edit",name:"materialEdit",component:b},{path:"/api",name:"helpApi",component:p}]});R.beforeEach(function(t,e,a){"auth"===t.name&&a(),"false"===localStorage.authStatus?a({path:"/auth"}):a()});var k=R;s.default.use(n.a);var y=new n.a.Store({modules:{},state:{auth:{status:!1,access:"access denied"}},getters:{},actions:{},mutations:{}}),E=a("zL8q"),M=a.n(E);a("tvR6");s.default.use(n.a),s.default.use(M.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:k,store:y,components:{App:r},template:"<App/>"})},SuF5:function(t,e){},VamR:function(t,e){},Z642:function(t,e){},dbKy:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e567ab7955676cf607ba.js.map